{"componentChunkName":"component---src-templates-blog-post-jsx","path":"/study/computer-science/operation-system/virtual-memory/","result":{"data":{"site":{"siteMetadata":{"title":"{ 모리 막장저장소 }","author":"kwonmory","siteUrl":"https://blog.kwonmory.com","comment":{"disqusShortName":"","utterances":"kwonmory/kwonmory.github.io"},"sponsor":{"buyMeACoffeeId":""}}},"markdownRemark":{"id":"06d56f00-5e19-5360-9ff9-246a2d5705b1","excerpt":"본 글은 반효경교수님의 운영체제 수업과 강의를 보고 필요한 부분만 정리되어있으며 제 생각이 적혀있어 정확하지 않을 수도 있습니다.(피드백 주세요:-)) 가상 메모리(Virtual Memory) 메모리 관리편에서는 모든 걸 사실 하드웨어 부분만 다뤘지만, 가상 메모리에서는 운영체제가 관리하는 부분을 살펴 보자. Demand Paging…","html":"<blockquote>\n<p>본 글은 반효경교수님의 운영체제 수업과 강의를 보고 필요한 부분만 정리되어있으며 제 생각이 적혀있어 정확하지 않을 수도 있습니다.(피드백 주세요:-))</p>\n</blockquote>\n<h1 id=\"가상-메모리virtual-memory\" style=\"position:relative;\"><a href=\"#%EA%B0%80%EC%83%81-%EB%A9%94%EB%AA%A8%EB%A6%ACvirtual-memory\" aria-label=\"가상 메모리virtual memory permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>가상 메모리(Virtual Memory)</h1>\n<p>메모리 관리편에서는 모든 걸 사실 하드웨어 부분만 다뤘지만, 가상 메모리에서는 운영체제가 관리하는 부분을 살펴 보자.</p>\n<h2 id=\"demand-paging요구-페이징\" style=\"position:relative;\"><a href=\"#demand-paging%EC%9A%94%EA%B5%AC-%ED%8E%98%EC%9D%B4%EC%A7%95\" aria-label=\"demand paging요구 페이징 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Demand Paging(요구 페이징)</h2>\n<p><code class=\"language-text\">Demand Paging</code>은 요청이 있으면 그 페이지를 메모리에 올리겠다는 의미다.</p>\n<p>실제로 필요할 때 필요한 부분에 대해서 <code class=\"language-text\">Page</code>를 메모리에 올리게 된다.</p>\n<p>메모리에 필요없는 코드까지 올려놓으면 사용하지 않게 되면 낭비가 된다. 이 부분을 해결해준다.</p>\n<p>필요한 부분만 올리기 때문에 <code class=\"language-text\">IO 양</code>이 감소하게 된다.</p>\n<p>그래서 메모리 사용량을 절감할 수 있다.</p>\n<p>메모리 공간이 확보가 되니 많은 프로그램을 올릴 수 있으니 빠른 응답 시간을 제공해줄 수 있다.</p>\n<p>더 많은 사용자 또한 수용할 수 있다.</p>\n<p>자 그러면 어떤 걸 올리고 어떤걸 내리고 어떤 식으로 올리고 내리는지 알아보자.</p>\n<p>페이지 테이블에는 <code class=\"language-text\">Valid</code> 와 <code class=\"language-text\">Invalid bit</code>를 가지고 있다고 전에 말한 적이 있다.</p>\n<p><code class=\"language-text\">Invalid</code>는 사용되지 않은 주소 영역을 의미하고, 또는 페이지가 물리 메모리에 없는 경우를 뜻한다.</p>\n<p>처음에는 모든 <code class=\"language-text\">Page Entry</code>가 <code class=\"language-text\">Invalid</code> 로 초기화 되어있습니다. 그리고 특정 주소에 접근하는 작업이 들어가게 되면,</p>\n<p><code class=\"language-text\">Invalid Bit</code>이 <code class=\"language-text\">true</code> 라면 <code class=\"language-text\">Page Fault</code> 라는 현상이 발생하게 된다.</p>\n<p><code class=\"language-text\">Page Fault</code>는 요청한 페이지가 메모리에 없는 현상을 의미하겠죠? 그러면 그 뒤로</p>\n<p>CPU는 내가 찾고자하는게 없으니, 트랩(인터럽트)이 발생하게 된다.</p>\n<p>트랩이 발생하면 운영체제로 CPU 제어권이 넘어가게 됩니다.</p>\n<p>운영체제는 이 트랩을 받아서 핸들러가 <code class=\"language-text\">Page Fault</code> 난 페이지를 메모리에 올리는 작업을 도와주게 된다.</p>\n<p> <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 952px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 83.66666666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAIAAABSJhvpAAAACXBIWXMAAAsSAAALEgHS3X78AAACDElEQVQ4y32TWY/aMBSF8/9fWqkvVdXHqlIfgEAg3dSqMywJGRIv8RLbIRD4I3NiUzqa6SBFwbrcz+fcJdHhsH/t2e9d02jnrLXNfxOi8NN17bM/jsfOw6ptrTE6RE6n4/nc432BkaGU4lxoPWT0/aHbtwDa1g2wVq2zptEgEeScEVJKWf+DCWFVVUupoA+HUKuqHWMUvNYSDILGND++//r86cuH9x/fvnm3WKTn8zHqOlfXglKhlAbMOWWMQCHULIRktDbGUEo267zRzXZTzJN0NInhMfIZijEpJbwNxRNSXWEph3KgTCktige0Ic+KJFlMk2SAoYzrCRGwDdg5A2UhhYdtMOWVB9hat7zbjEfTyXTWn7wysLrWsO1hAFx6GC60VtYaBNEC2NZKL++z8XgaBxjK5a5a3mWkpGgplMtqBx4wGoZb0Cpvh65XmdYNrpjGSTxLPHxos3Wezn7m66LvB1iIWikZbAshOJewzT1sdFPkD/N5eqkZaoyxP7/vGWVhMaqqKsuyG8ZtMVJ4xgHd3m6L1rltXqSLb5PZ7ALD2Gq1whtn1ImVxNnbtkoJ11rYQSHlrkQo2xTjUbxIv2LPousyPl3M8IBBzQCwnrgUpqAsMXlGMTwk3Nrtv7ZNY9TT+Kk/BLHotU8qKMM2in/2VV2VbsHhS8Co0f+X1m7BYT1rjlEwXIHzy4RH7WhW6XZjNVAAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"invalid-valid\"\n        title=\"invalid-valid\"\n        src=\"/static/7ebb6198c7bb3a4767aa96b2c0bb435d/7e4a6/55cr44n5510ot-2020-10-15-10-08-55.png\"\n        srcset=\"/static/7ebb6198c7bb3a4767aa96b2c0bb435d/5a46d/55cr44n5510ot-2020-10-15-10-08-55.png 300w,\n/static/7ebb6198c7bb3a4767aa96b2c0bb435d/0a47e/55cr44n5510ot-2020-10-15-10-08-55.png 600w,\n/static/7ebb6198c7bb3a4767aa96b2c0bb435d/7e4a6/55cr44n5510ot-2020-10-15-10-08-55.png 952w\"\n        sizes=\"(max-width: 952px) 100vw, 952px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>출처 반효경P 운영체제 PPT</p>\n<p>그림을 보자.</p>\n<p>6번과 7번은 사용되지 않는 공간이라서 invalid 체크로 되어있고 1,3,4번은 메모리에 안올라가 있어서 <code class=\"language-text\">invalid</code>로 체크되어있는 것을 볼 수 있다.</p>\n<p>위 그림으로 보면 물리 메모리에 사용되는 페이지만 올리가 있고 사용되지 않은 페이지는 안 올라가 있는 부분을 볼 수 있다.</p>\n<p>자 그러면 더 자세히 <code class=\"language-text\">Page Fault</code>에 대해서 알아보자.</p>\n<h2 id=\"page-fault\" style=\"position:relative;\"><a href=\"#page-fault\" aria-label=\"page fault permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Page Fault</h2>\n<p><code class=\"language-text\">Invalid Bit</code> 인 페이지(Page)에 접근하면, <code class=\"language-text\">MMU</code>가 <code class=\"language-text\">Trap</code>을 발생시킨다. (Page Fault Trap)</p>\n<p>그러면 커널 모드(운영체제)로 들어가서 <code class=\"language-text\">Page Fault Handler</code>가 호출된다.</p>\n<p>그러면 요청한 주소가 잘못된 주소 요청이 아닌지, 또는 접근 권한에 문제가 없는지 체크하고 있다면, 거절 처리를 하게 된다.\n펭지\n아니면 다음으로 넘어가는데, 메모리에 공간이 없다면, 메모리를 비어주는 작업을 하게 된다.</p>\n<p>그리고 해당 페이지를 디스크에서 메모리로 읽어온다.</p>\n<p>디스크에서 데이터를 읽어올 때, CPU는 마냥 기다리지 않는다.</p>\n<p>디스크 IO가 끝나기까지는 이 프로세스는 CPU를 선점 당해버린다.</p>\n<p>즉, 프로세스 상태는 <code class=\"language-text\">Block</code>된 상태로 된다.</p>\n<p>이 시간 동안 CPU는 다른 일을 처리하고, 디스크 IO가 끝났다면</p>\n<p><code class=\"language-text\">page table entry</code>에 <code class=\"language-text\">valid</code>로 기록하게 된다.</p>\n<p>그리고 그 프로세스를 <code class=\"language-text\">Ready Queue</code>에 넣게 된다.</p>\n<p>그러면 자기 차례에 올 때, <code class=\"language-text\">Running</code> 상태로 바뀐다. 그리고 전에 있던 작업을 계속 수행하게 된다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 937px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 77%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAAsSAAALEgHS3X78AAAB70lEQVQoz42T2Y6bMBSG8/5v0VQjtdXMSL3IRhJwNQpgFi+AWcxOkvfoD0RJZnpT6cjyMf7O8vuwaNt6tqapqqqE9X07DC1clSaMsVIXOMGFYeiw6frmch3Gk6Ze3GFgeV6lqQ5Cn7EgCHzbPhFiUdeJY1nXpWM7b6/vy+X3nz9+RZEE/wxrress077vScnD0M8y1XUNsLIsCCGblUEdzzqS5beXw/F4PvcPGIZ0nkcREh+KIldJjD3qv14HnL+//r5chqEfdtujRcgnuGkrwVkcR8gGy/MUwKwFuhWSr1eG4LzU5WZtWMQaYXxDYWhf61wIjtszXBQZ2u66G8xYaJp/8jwLA75Z7x+wUqmUKgxD6ISG01SVpUYgbOayAXPO9nsTrhTRerV7lC1lQikDG0Xi44M4jquUwm3oBBWxDn0L97C3RpjL7ZiZ3DJDGzwxSqKUhizAw6DDWQh0dMssRhgAMkN20zTvPWvcw8PEcewHHpKg5iSJpOAe9V2XKhWjne3GwAZDYOwOJ/uEiItpsPS8ns8dUoGEWnAhOMTHPExxoyRJcKJ1AZvr+gRDZGhu2zYuIfA8Hlhx6FJXSjGO5/QWD3hqDO1V91G7byA7xhYhkA3lPE/UCH/xnw1xUSqUR+jnhP8FTwOLnyT8F5vtL/gH8KTu6i1hAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"처리 과정\"\n        title=\"처리 과정\"\n        src=\"/static/5f865802ba995e1a929f7ae22e4399de/98b29/6cr44n610ot-2020-10-15-10-09-06.png\"\n        srcset=\"/static/5f865802ba995e1a929f7ae22e4399de/5a46d/6cr44n610ot-2020-10-15-10-09-06.png 300w,\n/static/5f865802ba995e1a929f7ae22e4399de/0a47e/6cr44n610ot-2020-10-15-10-09-06.png 600w,\n/static/5f865802ba995e1a929f7ae22e4399de/98b29/6cr44n610ot-2020-10-15-10-09-06.png 937w\"\n        sizes=\"(max-width: 937px) 100vw, 937px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>출처 반효경P 운영체제 PPT</p>\n<p>그림으로 살펴보자.</p>\n<ol>\n<li>프로세스가 특정 페이지를 찾는다. (그림 상 i === Invalid)</li>\n<li>invalid면 트랩을 발생시킨다. 트랩을 발생시키니깐, 운영체제(커널)에 CPU 제어권이 넘어간다.</li>\n<li>운영체제는 해당 페이지를 <code class=\"language-text\">Backing Store(디스크)</code>에서 가져오라는 명령을 하게된다.</li>\n<li>디스크에서 메모리로 데이터를 가져오게 된다.</li>\n<li>페이지 테이블을 <code class=\"language-text\">Invalid</code>를 <code class=\"language-text\">Valid</code>로 수정한다.</li>\n<li><code class=\"language-text\">Ready Queue</code>에서 대기하다가 <code class=\"language-text\">Running</code>상태로 바뀌면서 명령어를 다시 시작한다.</li>\n</ol>\n<p>그러면, 페이지 폴트가 많이 일어날 수록 위 작업이 반복되니깐 페이지 폴트가 적은게 좋다는 것을 알 수 있다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 893px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 55.99999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsSAAALEgHS3X78AAABUklEQVQoz31S7XKDIBD0/Z+nM21UQBHQqFGTJlE+NemLdK39006SmYW5gdvbvYNonr0x0zhepumq9YgAcM54b7EDSHiGCEnD0DFGOc+LglNKkjRpmrpt67ren8+n220GliU8IGPd78vXch+Gvq6rvj9IKVKSoFwc7z4/T6i+mXpMtk6Plyt0lJKn45BlVClBKRWiwEnfd7zIq0pB/z85BNd1bZYzeAa/LFVZSqTCBa59cNZq5+1PYBDM8L9hU0Y/W1dbY9jRKgZRK9mWZZ6mkueVFJySw75avA1mCtbMwUUPxwidQ1PrnFuW2UIYykyc6oRowlwhdJxYXgRvo6cvsYQwDKBZIfRHbFFISCulSYhJCcSR8JJ8OupdYgib3t5BQ9freXB/pv2M7I8DrK62s9ywTCeplcqwHEZc28y3OXrxgX51Vng8aMBvg7gz67T8qv8Nracmxc+QrrYAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"페이지 폴트 비율\"\n        title=\"페이지 폴트 비율\"\n        src=\"/static/b4d70f08404c9bf5021f59c15c07b728/6c745/19cr44n1910ot-2020-10-15-10-09-19.png\"\n        srcset=\"/static/b4d70f08404c9bf5021f59c15c07b728/5a46d/19cr44n1910ot-2020-10-15-10-09-19.png 300w,\n/static/b4d70f08404c9bf5021f59c15c07b728/0a47e/19cr44n1910ot-2020-10-15-10-09-19.png 600w,\n/static/b4d70f08404c9bf5021f59c15c07b728/6c745/19cr44n1910ot-2020-10-15-10-09-19.png 893w\"\n        sizes=\"(max-width: 893px) 100vw, 893px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>출처 반효경P 운영체제 PPT</p>\n<p>이 그림은 페이지 폴트가 얼마나 나느냐에 따라 성능을 대략적으로 볼 수 있는 수식이다.</p>\n<p>빨간색 글자가 페이지 폴트가 발생했을 때 수행되는 작업들이다.</p>\n<p>다시 한번 페이지 폴트가 나면 시간이 오래걸리게 된다.</p>\n<p>하지만 대부분의 경우 페이지 폴트가 나지 않는다고 합니다.</p>\n<h3 id=\"물리-메모리에-공간이-없을-경우엔\" style=\"position:relative;\"><a href=\"#%EB%AC%BC%EB%A6%AC-%EB%A9%94%EB%AA%A8%EB%A6%AC%EC%97%90-%EA%B3%B5%EA%B0%84%EC%9D%B4-%EC%97%86%EC%9D%84-%EA%B2%BD%EC%9A%B0%EC%97%94\" aria-label=\"물리 메모리에 공간이 없을 경우엔 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>물리 메모리에 공간이 없을 경우엔</h3>\n<p>물리 메모리에 공간이 없을 경우, 어떤 페이지 프레임을 내려야겠죠?</p>\n<p>그런데 아무거나 내리면 안되겠죠.</p>\n<p>그래서 효율적으로 내리고 올리기 위해서 알고리즘들이 많이 나와있다.</p>\n<p>자. 먼저</p>\n<p>페이지를 교체할 때, 어떤 페이지를 빼앗아 올지 결정 해야하고, 곧바로 사용되지 않을 페이지를 내쫒는 것이 좋다.</p>\n<p>어쨋거나 <code class=\"language-text\">Page Fault Rate</code>를 최소화하는 것이 목표이다.</p>\n<p>그러면 빼앗길 희생되는 페이지(victim)을 어떤 알고리즘으로 정할지 봅시다.</p>\n<h2 id=\"페이지-교체-알고리즘\" style=\"position:relative;\"><a href=\"#%ED%8E%98%EC%9D%B4%EC%A7%80-%EA%B5%90%EC%B2%B4-%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98\" aria-label=\"페이지 교체 알고리즘 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>페이지 교체 알고리즘</h2>\n<h3 id=\"optimal-algorithm\" style=\"position:relative;\"><a href=\"#optimal-algorithm\" aria-label=\"optimal algorithm permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Optimal Algorithm</h3>\n<p>먼저, 이 알고리즘은 말 그대로 최적의 알고리즘인데, 가정해본 알고리즘이기 때문에 실제 시스템에서는 사용하지 못한다.</p>\n<p><code class=\"language-text\">MIN 알고리즘</code> 또는 <code class=\"language-text\">OPT 알고리즘</code>이라고도 불린다.</p>\n<p>가장 먼 미래에 참조되는 Page를 교체하는 알고리즘이다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1153px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 33.33333333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAIAAACHqfpvAAAACXBIWXMAAAsSAAALEgHS3X78AAAA+0lEQVQY01VQW07tMAzs/veAxE4Qf4CgJ0+/4qTtZSOMKz4u0sgaO+PHZBtDVdk9oggNVzMRJeaOJ0CU9QZeEVE5z3UcE9imuw9b05f79BHkf6w/6THnsea6O6NZCgmJNuFM0lirSWapxJW0ilYNDk1h+9w5kXa+rvX9b17X3DR3/viizH3vlIhSpwcx0tSCpy5JUOmPRnuFxojN5vvb6M03I0GuqfJeqDD2ByoHL/fOiiJLFioYTQ7rNJ+f7PVloFlNTGuXXBkjQtGgk0cOkjuVOIETbokI/XmG8/BsrAPL8Z0NDSl2wkjFLVlK49s8lx7nhPNQHufvh/0A7FFhKBKyP20AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"MIN 페이지 폴트 테이블\"\n        title=\"MIN 페이지 폴트 테이블\"\n        src=\"/static/4764e38451ed5190a2909a91a358c6d7/afd0b/31cr44n3110ot-2020-10-15-10-09-31.png\"\n        srcset=\"/static/4764e38451ed5190a2909a91a358c6d7/5a46d/31cr44n3110ot-2020-10-15-10-09-31.png 300w,\n/static/4764e38451ed5190a2909a91a358c6d7/0a47e/31cr44n3110ot-2020-10-15-10-09-31.png 600w,\n/static/4764e38451ed5190a2909a91a358c6d7/afd0b/31cr44n3110ot-2020-10-15-10-09-31.png 1153w\"\n        sizes=\"(max-width: 1153px) 100vw, 1153px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>출처 반효경P 운영체제 PPT</p>\n<p>그림을 보자.</p>\n<p>4개의 페이지 프레임이 있고, 거기에 순서대로 1,2,3,4,1,2,5,1,2,3,4,5 가 들어왔을 떄 모습이다.</p>\n<p>빨강색이 페이지 폴트 난 부분이다.</p>\n<h3 id=\"fifofirst-in-first-out-algorithm\" style=\"position:relative;\"><a href=\"#fifofirst-in-first-out-algorithm\" aria-label=\"fifofirst in first out algorithm permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>FIFO(First In First Out) Algorithm</h3>\n<p>먼저 들어온 페이지를 페이지에서 쫒아내는 알고리즘입니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 47.333333333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAAsSAAALEgHS3X78AAABZ0lEQVQozx1R7Y7TMBDM+78NnIC7ij8cAkG5JP7ab7tJ24PnYFLLstb2zu7M7HS9DuwhEmJu7mKduKsZm6t1ZmMx0TDDl7GGevfYb/t226e09nXtQaKFLNWWmJeEuL1lymypUGq0kjTmObe5ShEr3Oe3fv49PX+OL58iPKyx5dbmzJmsIjVpbtoUV0mspLJkmbOgB4icTvrhaRpY0TsIq4U7mmsVFwcycrWmWtmqBjkK+VK8QYVtytuIaRv90vvoAXwc+ID4ERHHFXwccffja6A+ZIsO5Je89Zjut3G9dK8VVI0Okgr9JJJESGxdeW0E5pUpkfyZKTdTu5ju7/fp5484/wrHQ2FbUoM3SC3c5qYFtZoshVOVR104p6kizV9e7OPTdHruX08wzNAWU5FzAhKyAZYsiDkx8H7Yzm3BIztp//7q314nDHkD/ccYccIhX7NWeoDZRQEmYMBrTo9A0Gb/977/vf8HVbzC17zUaYgAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"FIFO 페이지 폴트 테이블\"\n        title=\"FIFO 페이지 폴트 테이블\"\n        src=\"/static/1c8e7e1d4bf2bdb1acf21cd0a04f3a66/c1b63/42cr44n4210ot-2020-10-15-10-09-42.png\"\n        srcset=\"/static/1c8e7e1d4bf2bdb1acf21cd0a04f3a66/5a46d/42cr44n4210ot-2020-10-15-10-09-42.png 300w,\n/static/1c8e7e1d4bf2bdb1acf21cd0a04f3a66/0a47e/42cr44n4210ot-2020-10-15-10-09-42.png 600w,\n/static/1c8e7e1d4bf2bdb1acf21cd0a04f3a66/c1b63/42cr44n4210ot-2020-10-15-10-09-42.png 1200w,\n/static/1c8e7e1d4bf2bdb1acf21cd0a04f3a66/fbf76/42cr44n4210ot-2020-10-15-10-09-42.png 1252w\"\n        sizes=\"(max-width: 1200px) 100vw, 1200px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>출처 반효경P 운영체제 PPT</p>\n<p>이 알고리즘은 특이한 성질을 가지고 있다.</p>\n<p>프레임이 커지면 페이지 폴트가 더 많이 발생되는 현상이 있다.</p>\n<p>그래서 이런 현상을 <code class=\"language-text\">FIFO Anomaly</code> 또는 <code class=\"language-text\">Belady&#39;s Anomaly</code>라고 부릅니다.</p>\n<h3 id=\"lruleast-recently-used-algorithm\" style=\"position:relative;\"><a href=\"#lruleast-recently-used-algorithm\" aria-label=\"lruleast recently used algorithm permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>LRU(Least Recently Used) Algorithm</h3>\n<p>가장 오래 전에 참조된(사용된) 것을 쫒아냅니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1167px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 33.33333333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAIAAACHqfpvAAAACXBIWXMAAAsSAAALEgHS3X78AAAA8UlEQVQY0z2QYW4EIQiF5/73aHqK9m+btHV0FB6gzuzuSQq12eQLQXgPlW2MPsxGN49ddY7ueGKic0YeXW+tqBGv27yuYBuhE1cHov9SCYa5s/+1lq2PZb7meQab5UOg0qBNtMFIOj+PzxxSwRW2N9f7zY/HvN/npqT4+ua9cQYn4syOVuFM5OxNK+RAS7WmRomkEjA/P8ae+mYsRpBSJRX2RxyMwqjQ/VCvFFoVKl4pSFUIpuP1xd7flllMG0sj/GRXc+Hw5Ia90Tpm8tGSazzw4NttnmthBvHdGGK9movEFKwIpzLiw2yH3ynRIqxVO7/VR2ELpkl36wAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"LRU 페이지 폴트\"\n        title=\"LRU 페이지 폴트\"\n        src=\"/static/2535add6e4930a7533ba6229f566b354/29229/49cr44n4910ot-2020-10-15-10-09-49.png\"\n        srcset=\"/static/2535add6e4930a7533ba6229f566b354/5a46d/49cr44n4910ot-2020-10-15-10-09-49.png 300w,\n/static/2535add6e4930a7533ba6229f566b354/0a47e/49cr44n4910ot-2020-10-15-10-09-49.png 600w,\n/static/2535add6e4930a7533ba6229f566b354/29229/49cr44n4910ot-2020-10-15-10-09-49.png 1167w\"\n        sizes=\"(max-width: 1167px) 100vw, 1167px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>출처 반효경P 운영체제 PPT</p>\n<h3 id=\"lfuleast-frequently-used-algorithm\" style=\"position:relative;\"><a href=\"#lfuleast-frequently-used-algorithm\" aria-label=\"lfuleast frequently used algorithm permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>LFU(Least Frequently Used) Algorithm</h3>\n<p><code class=\"language-text\">참조 횟수(Reference Count)</code>가 가장 적은 페이지를 지웁니다.</p>\n<p>만약 참조 횟수가 작은게 여러 개 있다면, LFU 알고리즘 자체에서는 여러 Page 중 임의로 선택해서 내쫒을 수도 있고, 성능 향상을 위해서 가장 오래 전에 참조된 Page를 내쫒게 할 수 있다.</p>\n<p><code class=\"language-text\">LRU</code>처럼 근처인 직접 참조 시점만 보는 것이 아니고, 장기적인 시간 규모로 보기 때문에 Page의 인기도를 좀 더 정확하게 반영할 수 있다는 장점을 가지고 있다.</p>\n<p>예로 <code class=\"language-text\">LRU</code>는 여러 번 쓰이는 페이지랑 상관없이 그냥 최근에 사용되면 살려두는 방식인데요, 엄청 많이 빈번하게 사용하다가 특정 시점에 사용 안하고 있으면 우선순위가 밀리게 되는데 LRU는 빈번히 사용되든 간에 내쫒아버린다.</p>\n<p>반대로 <code class=\"language-text\">LFU</code>는 최근성을 반영하지 못한다. 이제 막 특정 페이지를 많이 쓰려고 들어왔는데 빈도수 기준으로 봤을 땐, 신참이니깐 그 친구를 내쫒을 수 있다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 57.00000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsSAAALEgHS3X78AAABk0lEQVQoz1VS227rIBDM/39MK532oWpUJXWVygEHDJg7LJj2Q84SpzdptMJih52Z9a5AhpggpZJTwQqplPwbdYVSc62wrlD7oaM1wKsd0vLss/SgAx7Ax97a+/o1QArGpRBDiM75GBMihMSZ7eT+fP0zCnJyi40+bJ/slS2TIlQeDxM564ma87g8PDAAJF8l9VHfqBCsz+mqH7KiSnNtbGDMECr4bAgR+/3cyajKSmOFccpitVil0WyBdDOviDKz1iaK2SOfUjnPfv8sAGVHF7y2XrteF3c9OJSd4pfsgcuzkDJQYim1lJhx1I8/shv84Ev8FgQGhuaTD+gixY6ck/dheFPobocPZBs6XMwBV5U3q9vYtcH6WdpHaZ9l/ShrKzgAw5cXnVO8pm0i2I4ae/ctdugLQ8FsYJfjhTwT9sbFKDAOfpoN131VKMNqo4VCqIvU0m0b3sjYzd6ZInI+Cbz1i0UjaAHX2cnju3+6Z4dH/vKPPd2xifjW0GqGktZauJsGeTgtw1G+UHtG2T2Levs1/gPI2S0bs4r0WAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"LRU-LFU\"\n        title=\"LRU-LFU\"\n        src=\"/static/91307a68672c91d17f5406a5f1bc9966/c1b63/4cr44n410ot-2020-10-15-10-10-04.png\"\n        srcset=\"/static/91307a68672c91d17f5406a5f1bc9966/5a46d/4cr44n410ot-2020-10-15-10-10-04.png 300w,\n/static/91307a68672c91d17f5406a5f1bc9966/0a47e/4cr44n410ot-2020-10-15-10-10-04.png 600w,\n/static/91307a68672c91d17f5406a5f1bc9966/c1b63/4cr44n410ot-2020-10-15-10-10-04.png 1200w,\n/static/91307a68672c91d17f5406a5f1bc9966/2ba99/4cr44n410ot-2020-10-15-10-10-04.png 1221w\"\n        sizes=\"(max-width: 1200px) 100vw, 1200px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>출처 반효경P 운영체제 PPT</p>\n<p><code class=\"language-text\">LRU</code> : 가장 오래 전에 참조 되었지만, 빈도수가 많은 것을 고려하지 못한다.</p>\n<p><code class=\"language-text\">LFU</code> : 비록 4번이 1번 사용되었지만, 만약 이제 막 여러번 호출 할 예정이라면 문제가 발생한다.</p>\n<h3 id=\"lru와-lfu-알고리즘-구현-방식\" style=\"position:relative;\"><a href=\"#lru%EC%99%80-lfu-%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98-%EA%B5%AC%ED%98%84-%EB%B0%A9%EC%8B%9D\" aria-label=\"lru와 lfu 알고리즘 구현 방식 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>LRU와 LFU 알고리즘 구현 방식</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1055px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 67.33333333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsSAAALEgHS3X78AAABkUlEQVQoz21Si5KbMAzk//+nvba5ucvlkglgwAFDMLYky9Ded1SEPJimjGdAEqvdlZyEgETQdSbLUucsM0lmfSRZVWVrmudSIinvB63LLE+HJ7CExtRlof4PXl4xhmlijmEOSbQ8/pDSOHJcSs/gyBcSIvJDCMCR1iTMcPkglqbgCEFsXsEUsOkBCZ3v3P5jMGd90LbtpYXwM2M3gPWAEaxWkOdnY+u0JoDAmLQWvx2h6KBsVP79jRHAe2m/9Bb8q4JtgR11x/edec/jb56RV2ZCeUIkXVC7Ocj4ZueMd7CIAoTpazztTPEzm7443GUvExKRhXJ2ewgIz1MVk+MfLj9Oxa9cwLQGS/s4YlV6/XKQmc2yb+XrIRC1fXbqdhmP4W4quY0U/eDbbWrrVu9135xFyxocYiBTY6na6nzaaz84EZg89jnSOM3648rzY2HjvD/huGwBAq2YJXC99dZ5O7h+AOf/8XxJXqvo/dL9ChYb1a7Sn5XaFOmPrD7KZbyBGRG8elXVp1Yblb1kJmsWU38Bu+SZQIOuq1oAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"LRU-LFU\"\n        title=\"LRU-LFU\"\n        src=\"/static/3d4bdafd9b850dfd170bd3a2679dfb24/ffe34/11cr44n1110ot-2020-10-15-10-10-11.png\"\n        srcset=\"/static/3d4bdafd9b850dfd170bd3a2679dfb24/5a46d/11cr44n1110ot-2020-10-15-10-10-11.png 300w,\n/static/3d4bdafd9b850dfd170bd3a2679dfb24/0a47e/11cr44n1110ot-2020-10-15-10-10-11.png 600w,\n/static/3d4bdafd9b850dfd170bd3a2679dfb24/ffe34/11cr44n1110ot-2020-10-15-10-10-11.png 1055w\"\n        sizes=\"(max-width: 1055px) 100vw, 1055px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>출처 반효경P 운영체제 PPT</p>\n<p><code class=\"language-text\">LRU</code>는 시간 복잡도가 <code class=\"language-text\">O(1)</code>이다.</p>\n<p>어떤 부분이 참조 되었을 때, 그 부분을 맨 아래쪽에 링크드 리스트에 연결해놓기만 하면 된다.</p>\n<p><code class=\"language-text\">LFU</code>는 <code class=\"language-text\">O(n)</code>이 나온다. 왜냐하면 어떤 부분이 참조 되었을 때, 빈도수를 비교해야하므로 자신보다 앞에 있는 친구들을 하나씩 비교하게 된다.</p>\n<p>그래서 <code class=\"language-text\">LFU</code>는 <code class=\"language-text\">heap</code>을 이용하게 된다. <code class=\"language-text\">O(n)</code>은 느리거든요..</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 141.33333333333334%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAcCAIAAADuuAg3AAAACXBIWXMAAAsSAAALEgHS3X78AAACyElEQVQ4y81VS08TURS+hYSFG03csnGliUGX/gu37NS1JgZY+CNcGqMJUWNIVBJA0mCLrbyctrS09GVLS+c+zr13pvQFRv6B586kpUBL6s7Jl5OTM/n6fefcObcEgPuQUjiOclyFSa94NUgvq1YP4nHLsn5WKmUh2EhkVMtk0tFoJJ6ILS8trYdDm1sbSsGoyozZlNY4p5gjzU/+wfbofQ7u+f8hCw5aSpycP3k5OhmZClixwCtl5HNGEVgUl8lCcMYZni0mCByeEly3OtX3r6rBZdk42g3t7kXTm5+3ra8xqc5GSyRwR/Fggq7G6KHNXM1rtFq1yzZT3H3I9UsQx5wd4u/blRo9rPX7JygVTrIv23TFYsE4LVREsrQVSm1G8zOiQ+jRpJBZwB6AGtr5zg05U+J7JZ4ts1SRHdjMUXVHl0R7krYIgtWnQbQMeeDAtDLOfShpC+FSd9o2zHHaCiCf63kQDQD76mnbIJrgvmVt4tNoa8zExi0BOQAJwIaRmXmtiiV+v+oacq0xhrCb48a8+xhE+4I4OS/bEo1HeXatLG+oP0SfBvQpEcfEbhoXQn26YJ70GxZ6AVtlHcKPyVrk9mJwajF4L1W6bvjG/B2AMpiH9ZM9w2Czxl1UsJsTrB1IFCbDO1Or4QeZyk1PfMKYd56BOOmJ+2Q8hjqrP6E4p/aYFwn8JurUgJ94su2A/5arjyCO/JMjniw+Je6+EO5z7s74YM4s1XMM4cx2i3Pcfcr1awDtO+/1LEB08Eu8Eh3Pc+NCz7xr3h4BdMBReVvFhm6ot3BDvzCnLt2m1q5UDmgX/KjrEuF0MfQCTG+k42uJYqpwkCv/ShZNTBXziXw+ls9a2f2d/ZyVw8UcpCx5PLi7Ph9FRD78iK0kkt+SGwtbmIfeRNbfmeL3+Sjuc/89e2ZbaTCetTA3iQN4Y3QrJmIL8tI/wV+wbWLxzEH8fQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"LFU-개선\"\n        title=\"LFU-개선\"\n        src=\"/static/5f146c8b6bdc21063e457ba9d662913b/0b533/17cr44n1710ot-2020-10-15-10-10-17.png\"\n        srcset=\"/static/5f146c8b6bdc21063e457ba9d662913b/5a46d/17cr44n1710ot-2020-10-15-10-10-17.png 300w,\n/static/5f146c8b6bdc21063e457ba9d662913b/0b533/17cr44n1710ot-2020-10-15-10-10-17.png 500w\"\n        sizes=\"(max-width: 500px) 100vw, 500px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>출처 반효경P 운영체제 PPT</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 455px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 154%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAfCAIAAABoLHqZAAAACXBIWXMAAAsSAAALEgHS3X78AAAD3klEQVQ4y71US2hcZRS+Y4miEG1JrCLFF6RCQVBxrbhSXIgKbly5ceejUFyJUEsp0dS0Wis1DRNIGhszmnZmMp0ZZ5qZmNppcufOfT//933My6Irdy7870yMaWrsrIRzD+de/u+e/3znnE9gjFCKufd9FgSUB4SgAU1wXduyDFmWisVCtVqRJBFjOCh4cfF7UdzIZNO55Ww2ky6XS4MnFyD0KEXc9zE8La9iUHD/6JYfHBmDBz/6v4E55wgQHLMQG4K3d0HYFRkw2go5l35ImE+CiPoBGQDMCQ99uFaxFucdy5PXGrqoSauSIeqE3hGMAO22wEpVHp8w7VBaqdcr0spcVSzVmY95If8JZghbyCiPm/qLTqniR5gFJGhSFpJe2XB3ME/bCd1Uof7pftQVxPdeAQ1AfIggoBjx2Q8I2x1MAWaRsf6hpT7tNUeN+kt2o0zDiBGkYWUZX86zrEtsSvBOMEae326rRz8xV4X1hafEySf1hSH11EHzx9Wo3VqXrx+/eOyz5RMes3l2TOA2MAY08KGnK7NvAJbYKL4sFZ8FluCIgv3z2YaCkqmpyfTJLzKf/5BbBB7fCCz801gfY83V0m+bjVE9f0AvHNSWDln6Hvv3hFF6REvOV6LqFPpqxj93zatSvP3aCLBO07wwq5wZcq7eU3//kD4tGOf32FfvIn8KztqQNPFOEIW15lo9uBHRYBthfCp8Cl1Fr71mwTE3OKBee90NRvAfgh3ebTHBlh83tTFzZSKgbd7prW71wBQSwKTDbzqKIB97UPxg2MwONz4esR3B6yTgb4L00ZizmpCOPOHUOPMBZ+dvMG9sq+tqWS31DGg9YBRf0LLPG/Z92pVXbfyY1xFMsl+rvuXQR43154wb7+J4wjaTC7QVuOm8Mj9mlu6VxkfV7/apyRH5m73Klw8rk/u8SJAn9+oLD0mHh9Xp+/W5hDZ9hHWjeOFicBTActH76RSsJr0LX3vpc17uPMjPwHwS5GYwnYP5GVRLwtwckmexmkTKPB+4/oQLMVtRSJs3SdSl3Zu0/SuvomcdboRw3yVBh/DY58bj9tZubLJNsBcb6lk/5qxwT0BPEnpGtoJbZ7svF7sIw51kiC8LZbgvOr3mbcP0BGBTVfEOMOX7APUNzdZMHlPGlw/wp/+dnwaOy//oWg4E3k4l4Qk9y00dX8qcXr40kclNFQrTpV8u1XLf5pfP5pdOpi8eTWXOXEmNL10+nYW9fbj12hjZiuVotrGhq9dV13Bc3bYahqs7uqgbkm5rtqVYhmjEd/mXmn1MfeyHlBsP+HViyYi/ED8OSPx6m3r+BZ0A20SRqIVKAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"LFU-개선1\"\n        title=\"LFU-개선1\"\n        src=\"/static/5f3f90419a840fdd492fd3efff040b69/379c3/21cr44n2110ot-2020-10-15-10-10-21.png\"\n        srcset=\"/static/5f3f90419a840fdd492fd3efff040b69/5a46d/21cr44n2110ot-2020-10-15-10-10-21.png 300w,\n/static/5f3f90419a840fdd492fd3efff040b69/379c3/21cr44n2110ot-2020-10-15-10-10-21.png 455w\"\n        sizes=\"(max-width: 455px) 100vw, 455px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>출처 반효경P 운영체제 PPT</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 544px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 125.66666666666669%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAZCAIAAAC+dZmEAAAACXBIWXMAAAsSAAALEgHS3X78AAADnklEQVQ4y42UW2/cRBTHTYRQq/JQhAIVFSAkpILEU4moeEfiER6ReOSbIERBSKlaKChtqJpCScimm8tunHR3m6yzm710m90d22OP5z72XpxCUT8C4/WSNFUkIv1tz9j+zTlnzjljcE7DUArBMEat1sMgQIxhPT2JjChSu7XqTsUqlYory9liseC6jlJCL/r/sJQcIU+bha7DKNHjk2BjWF/aTiq9kL6fkBzDqU5u8Bj4eem1OOGcjUSPLD16eQgnfzxH9kLRUyrkKhKJwsNw9DidJrAUrB+yUP3nPyM8ksTaxjtlZw/aTQBqwGtDvSOjr9QFtmvb2hdDycRmpUNtn2heSdETMn76FK0vOYt/OI7qlB81zCaodWXINaBtNncazWpTDwzGaR2QuRJZ3SUe5g7qWrB4fyVvr34Gdy7hfDX6KwwjrgtJaRc514wHXeR7CQwDlq/RBy22USfFFmMcVmx884cboPBm4JyxM1dE/A8nARIeGOx50gmVdACATlJIukiSgHuK9UIeSjp4HDXna9bCh7jwKrg76ZrvwUy2P9yv2OXL5tdFZMb9AfIhIUEC83SrR2KMyP3e5pWf7OYpJzsFc2+gjuHmv9C7M7c2e3nxm5vmjGODzsP2XuORLsdn8sywDAd4+erGnan89IVg/S07ez6IDd89Zf88vSWt2ejHPFvVBurleiH3QGfbOEisDAUXBNz5hPsT1refZq9epNsGEhM4fAlkPueqC/q2/iEKlQeh3QXJho1hSYUr3MxXXvMVcPu8XXx/Zfpj8sQI/n4B5l5zcy87s18qqnNFNAOB47ueUtwYOxzvB7VVe+F11J5sfzflVSfc+YtBeCZ4Yjilj7zau655wQcLQg2UYp4LkTdKVeJwX+GtqrP2gbt8FtyatJfOdW+f7Vx72zVPQ+tF8Nu57veTzp+n7V/fwe1yNOjXy7WG1ZCJZV3GkWKNXVqZo1vzeOV3Upqn2xlWytDWPe5k2e4SK99jnSzrLHDSFEIi6HkOTMrzoA1k77HsxzKORT8Wg1gOYxkNRTjUUzkYimgoo30hdbvTI40x5lkgONbxH4rjwzfpWNC0JQU/2s9p3+nW0cGkGlngI4ljT5gxzBiFbdcDkAQY+wH2EEYBgn4AEXJ93/YCD6UteRTmTBvR39avb+aum+bMfStTtRYrW3fL5szm2rX1jRuF/C8bm7eKx8EHZxijWsQPGKX6mU4pJoIlZxAjJI3zWf0LzFO92WzM+G0AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"LFU-개선2\"\n        title=\"LFU-개선2\"\n        src=\"/static/cd1c57038a9500c143922c5f0a2b101f/b3e51/26cr44n2610ot-2020-10-15-10-10-26.png\"\n        srcset=\"/static/cd1c57038a9500c143922c5f0a2b101f/5a46d/26cr44n2610ot-2020-10-15-10-10-26.png 300w,\n/static/cd1c57038a9500c143922c5f0a2b101f/b3e51/26cr44n2610ot-2020-10-15-10-10-26.png 544w\"\n        sizes=\"(max-width: 544px) 100vw, 544px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>출처 반효경P 운영체제 PPT</p>\n<p>이렇게 자료구조를 힙을 사용하게 되면 <code class=\"language-text\">lonN</code>번 비교해서 자신의 자리를 찾아가니 <code class=\"language-text\">O(log n)</code>이 나오게 된다.</p>\n<p>아래로 내려갈 수록 높은 빈도수를 의미한다.</p>\n<p>여기까지 대표적인 페이지 교체 알고리즘들을 살펴보자.</p>\n<p>하지만, 운영체제는 <code class=\"language-text\">LRU</code>나 <code class=\"language-text\">LFU</code>를 사용할 수 없다.</p>\n<p>왜냐하면 물리 메모리에 데이터가 있다고 한다면, CPU는 그 부분을 가져와서 사용하게 되는데, 이 과정에서 운영체제는 관여하지 않기 때문이다.</p>\n<p>무슨 말이냐면, 데이터가 물리 메모리에 있으면, CPU는 그냥 가져다가 쓰겠죠? 그 때 운영체제가 관여를 하지 않는다.</p>\n<p>그래서 그 데이터가 언제 쓰였는지, 몇번 쓰였는지 기록을 못한다…</p>\n<p>그래서 페이징 시스템에서 특정 페이지를 교체하기 위해서 어떤 정보를 사용할까?</p>\n<p>바로 <code class=\"language-text\">Clock Algorithm</code>가 있다.</p>\n<h3 id=\"clock-alogorithm\" style=\"position:relative;\"><a href=\"#clock-alogorithm\" aria-label=\"clock alogorithm permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Clock Alogorithm</h3>\n<p>클락 알고리즘은 LRU와 비슷한 알고리즘</p>\n<p><code class=\"language-text\">NUR(Not Used Recently)</code> 또는 <code class=\"language-text\">NRU(Not Recently Used)</code>라고도 불린다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 52.33333333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsSAAALEgHS3X78AAABL0lEQVQoz21SCXLDMAjM/7+Wy7YuQBKg9CNd2UmbdjKjGSNgV8vik1mfx1W1N+Ln9f14d+96BEPfS6cDKSnXTLylWkoNaTzMrB2lXqWx8BZrLrXQQfcCa5NEjRkP+7DhVkKiLSKPcm8VvABrazMOSXJB8ASDmNbgrtDWmqzb/XI953VDB0TSEruIDVR1DLNhFRqJcZ3gKbjQftEYQowbmnqteAFaeAm29zURKnnitWEEfCZYW+WYbUwZk/7hGEliAt4UQVHo96l/WW7X24UypmAfvzOXObM2WAp/oArg3QKVOHUphhr6+BrMFM5XuVe+dVDvbg+DEsmE4WsqHBIyM68oKUyeWyACi6wJxnRpnX5W9XL/sNH9z56hCACssAujYzL6s//04a/4eGCb67/kN2CVAy75XFC0AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Clock\"\n        title=\"Clock\"\n        src=\"/static/6c21a348e5cc4f12ef97cefa00fbaba2/c1b63/39cr44n3910ot-2020-10-15-10-10-39.png\"\n        srcset=\"/static/6c21a348e5cc4f12ef97cefa00fbaba2/5a46d/39cr44n3910ot-2020-10-15-10-10-39.png 300w,\n/static/6c21a348e5cc4f12ef97cefa00fbaba2/0a47e/39cr44n3910ot-2020-10-15-10-10-39.png 600w,\n/static/6c21a348e5cc4f12ef97cefa00fbaba2/c1b63/39cr44n3910ot-2020-10-15-10-10-39.png 1200w,\n/static/6c21a348e5cc4f12ef97cefa00fbaba2/8d68c/39cr44n3910ot-2020-10-15-10-10-39.png 1234w\"\n        sizes=\"(max-width: 1200px) 100vw, 1200px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>출처 반효경P 운영체제 PPT</p>\n<p><code class=\"language-text\">Circular List(원형 리스트)</code>에서 <code class=\"language-text\">Reference Bit</code>을 사용해서 교체 대상이 되는 페이지를 선정하게 된다.</p>\n<p><code class=\"language-text\">Reference Bit</code>가 0인 것을 찾을 때까지 포인트를 하나씩 앞으로 이동하게 된다.</p>\n<p>이동하는 중에는 <code class=\"language-text\">Reference Bit</code>값이 1인 경우 0으로 바꿔주면서 이동하게 되죠.</p>\n<p>그리고 만약 <code class=\"language-text\">Reference Bit</code>이 0인 것을 찾으면 그 페이지를 교체한다.</p>\n<p>(만약 특정 부분이 한 바퀴 돌고 와서 그 때 0 이면 그 때는 그 페이지가 교체 당한다.)</p>\n<p>또 <code class=\"language-text\">Reference Bit</code> 말고도 <code class=\"language-text\">Modified Bit(=Dirty Bit)</code>을 함께 사용하게 되는데</p>\n<p><code class=\"language-text\">Reference Bit</code>값 1은 최근에 참조된 페이지라고 볼 수 있다.</p>\n<p><code class=\"language-text\">Modified Bit</code>의 값이 1인 경우에는 최근에 변경된 페이지 라고 보면된다.</p>\n<p>Write가 일어났을 때를 의미한다. 어떤 페이지에 데이터가 1에서 2로 바꼈을 때 <code class=\"language-text\">Modifed Bit</code>은 1로 바뀐다.</p>\n<p>만약에 <code class=\"language-text\">Modified Bit</code>이 1이라는 것은 메모리에 올라온 이후에 적어도 1번은 수정했다는 것을 의미한다.</p>\n<p>이런 페이지는 메모리에서 쫒겨날 때, 백킹 스토어(디스크)에 수정 된 내용을 반영하고 내쫒게 된다.</p>\n<p>때로는 백킹 스토어(디스크)에 쓰는 작업이 오버헤드가 있는 경우에는 내쫒지 않을 수도 있다.</p>\n<h2 id=\"페이지-프레임-할당page-frame-allocation\" style=\"position:relative;\"><a href=\"#%ED%8E%98%EC%9D%B4%EC%A7%80-%ED%94%84%EB%A0%88%EC%9E%84-%ED%95%A0%EB%8B%B9page-frame-allocation\" aria-label=\"페이지 프레임 할당page frame allocation permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>페이지 프레임 할당(Page Frame Allocation)</h2>\n<p>이제는 페이지 프레임 할당에서 알아보자.</p>\n<p>할당 할 때 어떤 문제를 고려해야할까.</p>\n<p>각 프로세스에 얼마만큼의 페이지 프레임을 할당 할 것인지가 중요하겠지..</p>\n<p>일단은 명령어를 수행하기 위해서 최소한의 프레임을 할당해줘야 프로그램이 메모리를 참조하면서 작동하겠지..</p>\n<p>그리고 반복을 구성하는 페이지들은 한꺼번에 할당해놓는 것이 유리하겠죠.</p>\n<p>만약 그렇지 않으면 매 반복이 돌 때마다 페이지 폴트가 발생할테니까.</p>\n<p>만약에 프로세스에 할당 프레임수가 2개이고, 반복 돌면서 요청하는 페이지가 3개라면 루프 돌 때마다 페이지 폴트가 발생하게 된다.</p>\n<p>2개는 있지만 1개는 없으니깐 2개중 하나 내리고 새로 가져오고, 그리고 또 반복 돌다 보니 또 없어서 또 내리고 가져오고…</p>\n<p>프로세스에 프레임을 할당하는 방법 3가지가 있습니다.</p>\n<ol>\n<li>Equal Allocation(동일 할당) : 모든 프로세스에 똑같은 개수를 할당합니다. 이는 비효율적입니다. 어떤 프로그램은 크고 어떤 프로그램은 작으면 말이죠.</li>\n<li>Proportional Allocation(비례 할당) : 프로세스 크기에 비례하여 할당하게 됩니다.</li>\n<li>Priority Allocation(우선순위 할당) : 프로세스의 우선순위에 따라 다르게 할당합니다.</li>\n</ol>\n<h2 id=\"global-vs-local-replacement\" style=\"position:relative;\"><a href=\"#global-vs-local-replacement\" aria-label=\"global vs local replacement permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Global VS Local Replacement</h2>\n<p>글로벌과 로컬은 다른 느낌입니다. 일단 로컬은 위에서 말한 3가지 방법을 사용한 경우이고,</p>\n<p>글로벌 리플레이스는 어떤 프로그램이 메모리에 많이 필요하면 많이 올라가게 된다.</p>\n<p>상대적으로 다른 프로그램은 쫒아내지고 그때 그때 메모리 할당량이 자동으로 조절되니깐 위 3가지 방법을 사용할 필요가 없다.</p>\n<h3 id=\"global-replacement\" style=\"position:relative;\"><a href=\"#global-replacement\" aria-label=\"global replacement permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Global Replacement</h3>\n<p>교체 시에 다른 프로세스에 할당된 프레임을 뺴앗아 올 수 있습니다.</p>\n<p>즉, 물리 메모리 전역적으로 할당된 프레임을 빼앗을 수 있죠.</p>\n<p><code class=\"language-text\">Globla Replacement</code>는 프로세스별 할당량을 조절하는 또다른 방법이다.</p>\n<p><code class=\"language-text\">Global Replacement</code>는 FIFO, LRU, LFU 등의 알고리즘을 사용할 수도 있다.</p>\n<p>그 보다 뒤에서 살펴볼 <code class=\"language-text\">Working Set</code>, <code class=\"language-text\">PFF알고리즘</code>을 사용하게 된다.</p>\n<p>이 알고리즘들은 프로그램이 최소한 필요로 하는 할당량을 보장 해야하는 알고리즘입니다.</p>\n<h3 id=\"local-replacement\" style=\"position:relative;\"><a href=\"#local-replacement\" aria-label=\"local replacement permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Local Replacement</h3>\n<p>위 3가지 방법이 사용되어서 프로세스마다 프레임이 할당되었다고 하면, 각 프로세스는 <code class=\"language-text\">할당 프레임 내에서만</code> 교체를 할 수 있습니다.</p>\n<p><code class=\"language-text\">Local Replacement</code>도 FIFO, LRU, LFU 등의 알고리즘을 각 프로세스별로 사용되어진다.</p>\n<p>즉, 정리하자면 Global 같은 경우에는 다른 프로세스 프레임 영역까지 빼앗을 수 있지만, Local 에서는 각 프로세스가 할당 받은 프레임 안에서만 빼앗을 수 있다.</p>\n<h2 id=\"thrashing\" style=\"position:relative;\"><a href=\"#thrashing\" aria-label=\"thrashing permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Thrashing</h2>\n<p>이제 쓰레싱에 대해서 알아보자.</p>\n<p>쓰레싱은 프로세스의 원활한 수행에 필요한 최소한의 페이지 프레임 수를 할당 받지 못한 경우 발생하는 현상이다.</p>\n<p>이러면 페이지 폴트 비율이 매우 높아지고, CPU 이용률도 낮아지게 된다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1097px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 58.333333333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsSAAALEgHS3X78AAABiUlEQVQoz41S107EMBDM/38QSIAuhUtP3FLsuKWc+A/mYnHwABLWyNpkZ7yza0fb5qWcGCPeG2MWa/8F5/S6umjf12kakyQdRxzBORd/AVnGRAAl1DlzFysl24ZaeyyL13r9FUhZu3l/c+5w/hgHaa2O1s1JOTd1b8ymlF0WByAIsTFQeud2zqf3rEwu1zTJs7ToO+q9jThnlJK2peAFAXYchDrzrLuOESL6ngsxA1lSXLNqHJQQk7MGYkpIH8RSGohDnSS5xvF7ntdF0QBvb/E0LusG2zuYEFuIhwFjoBDDXiiepvnlkjE2BsOwsO8fZdk8CuD/EMS4p2EQdd2v643z8fX1AhIE4P1o3iOVXyujPT6/xZg2BkYIp1RAOU3wvT8mFwC2nDXseH98ief7VeGRLIt6fnpBh0rdqWfn/oR77DCCdjCCcBxjg9YqwkOBgTiO6bkIIdjLc1VVBTqCIi8Qd12XpikIjLGmqQnp7mLgdttCcMIigSvALNu2rqqSUQgI/h/HT5r7BNsuVrE3Vd1pAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"쓰레싱\"\n        title=\"쓰레싱\"\n        src=\"/static/9863684fa3c707224685a2a5b4c9c439/66465/2cr44n210ot-2020-10-15-10-11-02.png\"\n        srcset=\"/static/9863684fa3c707224685a2a5b4c9c439/5a46d/2cr44n210ot-2020-10-15-10-11-02.png 300w,\n/static/9863684fa3c707224685a2a5b4c9c439/0a47e/2cr44n210ot-2020-10-15-10-11-02.png 600w,\n/static/9863684fa3c707224685a2a5b4c9c439/66465/2cr44n210ot-2020-10-15-10-11-02.png 1097w\"\n        sizes=\"(max-width: 1097px) 100vw, 1097px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>출처 반효경P 운영체제 PPT</p>\n<p>먼저, 페이지 폴트 비율이 올라가면 CPU 사용률이 떨어진다.</p>\n<p>그러면 CPU 사용률이 떨어졌으니 CPU한테 열심히 일을 시켜야한다.</p>\n<ol>\n<li>운영체제는 <code class=\"language-text\">Degree of Muliprogramming(여러개 프로세스 횟수)</code>를 높혀야 한다고 판단하게 된다.</li>\n<li>또 다른 프로세스가 추가가 되고, 다른 프로세스가 추가되면 프로세스 당 할당된 프레임의 수가 점점 감소하게 된다.</li>\n<li>프로세스는 실행될 때마다 필요한 페이지를 사용할 텐데 없으니 페이지를 불러오는 <code class=\"language-text\">Swap In</code>이 빈번하게 일어나고, 물리 메모리에 공간이 없으니 <code class=\"language-text\">Swap Out</code>으로 페이지를 내보내고를 계속 반복한다.매우 바쁘게..</li>\n<li>그래서 대부분의 시간은 <code class=\"language-text\">Swap In</code>, <code class=\"language-text\">Swap Out</code> 작업을 주로하다 보니 CPU는 한가해지니, 이용률이 떨어진다.</li>\n<li>그러게 되면 처리량이 낮아지겠죠~</li>\n</ol>\n<p>그래서 어느 정도 페이지 할당을 보장해줘야하는데, 그걸 해주는 알고리즘 또는 모델이 <code class=\"language-text\">Working Set, PFF</code>이다.</p>\n<h2 id=\"working-set-model\" style=\"position:relative;\"><a href=\"#working-set-model\" aria-label=\"working set model permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Working Set Model</h2>\n<p>프로세스는 특정 시간 동안에는 일정한 장소만을 집중적으로 참고하는 경향이 있다.</p>\n<p>집중적으로 참조되는 해당 Page들의 집합을 <code class=\"language-text\">Locality Set</code>이라고 한다.</p>\n<p><code class=\"language-text\">Working Set Model</code>은 <code class=\"language-text\">Locality</code>에 기반하여 프로세스가 일정 시간 동안 원할하게 수행되기 위해 한꺼번에 메모리에 올라와 있어야 하는 Page들의 집합을 Working Set이라고 정의한다.</p>\n<p>만약에 <code class=\"language-text\">Working Set페이지 크기</code>가 5인데, 물리 메모리에 페이지가 3개 밖에 없다면 그 프로세스는 모든 걸 통째로 반납해버린다.</p>\n<p>즉, 프로세스의 <code class=\"language-text\">Working Set</code> 전체가 메모리에 올라와 있어야 수행되고, 그렇지 않은 경우 모든 프레임을 반납하고 <code class=\"language-text\">Swap out</code>으로 <code class=\"language-text\">Suspend</code>상태로 간다.</p>\n<p>이는 쓰레싱을 방지한다. 페이지 폴트를 적게 나게 도와주니깐!</p>\n<p>그러면 PFF는 뭘까..</p>\n<h3 id=\"pffpage-fault-frequency-scheme\" style=\"position:relative;\"><a href=\"#pffpage-fault-frequency-scheme\" aria-label=\"pffpage fault frequency scheme permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>PFF(Page Fault Frequency) Scheme</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1028px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 52%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsSAAALEgHS3X78AAABS0lEQVQoz5WS2W6DMBRE+f/v6UPTJQkFbALxjq8NNoHwJZ2om6qqUisd+cHW3DszcrGuF+9dSnGe079YlrnYtkWIXmtLFN3gh4H+QDDGQl9cr4u1Rmuv1JDzOo7zNF1+I6UF5HyFPudUYLtS0hpfVRzPMWbofxL97X4YonPBGlLK3TYH8pxzPHDed51MeSWaMOIbY3YseTM97vb3d48nLkSnL3MuiAbGGDZj6sPDXkobQsL4byCkHFp27rjwFtVu77ZjJM5YoIQwkB2PFSwhPECKL+dpntLl7Qanc3SzvW2r1goCa1FjNIb2+/JwqBjrlHa3tTYQjYp5VvZdK8hP0MPpe9tKSu/Hz7ZgARrkh76uW9Z0XS9kQ8Hm56fyaXfgdX/i5xmZ8UlC8OezEEJ+IKTEQFXXdcNYVVVleUSpsNfUzUtZSSFPbWuMfgURGvFXLeV17QAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"PFF\"\n        title=\"PFF\"\n        src=\"/static/3ff89cee7c5e45bb62bed023970e405d/35a31/35cr44n3510ot-2020-10-15-10-11-35.png\"\n        srcset=\"/static/3ff89cee7c5e45bb62bed023970e405d/5a46d/35cr44n3510ot-2020-10-15-10-11-35.png 300w,\n/static/3ff89cee7c5e45bb62bed023970e405d/0a47e/35cr44n3510ot-2020-10-15-10-11-35.png 600w,\n/static/3ff89cee7c5e45bb62bed023970e405d/35a31/35cr44n3510ot-2020-10-15-10-11-35.png 1028w\"\n        sizes=\"(max-width: 1028px) 100vw, 1028px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>출처 반효경P 운영체제 PPT</p>\n<p>이 모델 또는 스낌은 페이지 폴트가 어느 정도 났는지 보는 형태이다.</p>\n<p>페이지 폴트가 많이 났다면, 페이지 프레임을 더 주고, 만약 적게 났다면, 빼앗는 방식이다. 유연한 느낌이긴하네</p>\n<p>페이지 폴트 비율의 상한값과 하한값을 두고, 그 기준에 맞춰서 상한값을 넘으면 프레임을 더 할당하고, 페이지 폴트 비율이 하한값보다 낮으면 프레임 수를 줄인다.</p>\n<p>그래서 <code class=\"language-text\">Bound</code>로 최소를 보장해주게 됩니다.</p>\n<p>이제 잡다한 부분을 봅시다.</p>\n<h3 id=\"page-size-결정\" style=\"position:relative;\"><a href=\"#page-size-%EA%B2%B0%EC%A0%95\" aria-label=\"page size 결정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Page Size 결정</h3>\n<p>페이지 사이즈를 줄이면 어떻게 될까요?</p>\n<ol>\n<li>페이지 수가 증가!</li>\n<li>페이지 테이블 크기 증가</li>\n<li>외부 조각 감소(더 잘게 써니깐요)</li>\n<li>디스크 데이터 전달하는데 효율성이 감소 할 수 도 있습니다. 왜냐하면 탐색하는 시간(<code class=\"language-text\">seek</code>)이 길기 때문이다. <code class=\"language-text\">Seek</code>할 때, 100 크기가 필요하다면 페이지 큰거 하나 100사이즈 1번만 가져오기만 하면 되지만, 페이지 크기가 작은 10짜리라고 하면 10번을 가져와야하기 때문에 <code class=\"language-text\">Seek</code>를 10배나 더 한다.</li>\n<li>필요한 정보만 메모리에 올라와 메모리 이용이 효율적입니다. 페이지 크기가 작다면 필요한 부분이 작은 것이라도 올라와도 되니깐 메모리적으로 효율적입니다. 하지만 <code class=\"language-text\">Locality</code>의 활용 측면에서는 좋지 않다. 페이지 크기가 큰 것이 수용할 수 있는 Locality가 크기 때문이다. 페이지 크기가 작으면 여러개를 올려야하니깐 활용 측면에서는 좋지 않다.</li>\n</ol>\n<p>트랜드는 페이지 사이즈를 크게한다.</p>\n<h2 id=\"캐슁-기법\" style=\"position:relative;\"><a href=\"#%EC%BA%90%EC%8A%81-%EA%B8%B0%EB%B2%95\" aria-label=\"캐슁 기법 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>캐슁 기법</h2>\n<p>한정된 빠른 공간(=캐시)에 요청된 데이터를 저장해 두었다가 후속 요청 시 캐시로부터 직접 서비스하는 방식이다. 이게 무슨 말인지 풀자면, 속도가 빠른 공간에 데이터를 두어서 요청이 들어오면 빠르게 데이터를 제공한다는 의미이다.</p>\n<p>캐시는 Paging System 외에도 Cache Memory, Buffer Caching, Web Caching 등 다양한 분야에서 캐슁 기법을 사용한다.</p>","frontmatter":{"title":"가상메모리 정리","date":"10월 15일, 2020"}}},"pageContext":{"slug":"/study/computer-science/operation-system/virtual-memory/","previous":{"fields":{"slug":"/study/javascript/core-javascript-group-study-draft/fetch/"},"frontmatter":{"title":"GS - Fetch","category":"gs-core-javascript","draft":false,"type":null}},"next":{"fields":{"slug":"/til/20201017-til/"},"frontmatter":{"title":"2020년 10월 17일 TIL","category":"til","draft":false,"type":null}}}},"staticQueryHashes":["3128451518","911025623"]}